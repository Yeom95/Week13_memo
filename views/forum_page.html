<!doctype html>
<html lang="en">
    <head>
        <title>{{ question.b_title }}</title>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />

        <!-- jQuery CDN 추가 -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
        <!-- Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <!--local css file-->
        <link rel = "stylesheet" href = "/css/index.css"> 
        <!-- local CSS file-->
        <link rel = "stylesheet" href = "/css/login.css">
    </head>

    <body>
        {% include 'nav.html' %}

        <!-- Main Content Section -->
        <div class="row justify-content-center mt-4">
            <div class="col-lg-8 col-md-10">
                <div class="card mb-4" id = "forum-page-card">
                    <div class="card-body">
                        <!-- Title Section -->
                        

                        <hr class='forum-page-hr'/>

                        <!-- Form for submitting edited content -->
                        <form method="POST" action="/process/update?b_id={{question[0].b_id}}">
                            <input type="hidden" name="b_id" value="{{ question.b_id }}"/>
                            
                            <h2 class="text mb-4" id="question-title">{{ question[0].b_title }}</h2>
                            <input type="text" id="edit-title" name="b_title" class="form-control mb-4" value="{{ question[0].b_title }}" style="display: none;" required />
                            <!-- Details Section -->
                            <div class="mb-3">
                                <label for="edit-details" class="form-label">Details</label>
                                <p id="question-details">{{ question[0].b_content }}</p>
                                <textarea id="edit-details" name="b_content" class="form-control" rows="6" style="display: none;" required>{{ question[0].b_content }}</textarea>
                            </div>

                            <div class="text-center mb-4">
                                <!-- Edit Button -->
                                {% if id %}
                                <button type="button" class="btn btn-success" id="edit-button">Edit</button>
                                {% else %}
                                <button type="button" class="btn btn-success">Edit</button>
                                {% endif %}
                                <!-- Save Button (Initially hidden) -->
                                <button type="submit" class="btn btn-primary" id="save-button" style="display: none;">Save</button>
                                <button class="btn btn-primary">Reply</button>
                                <button class="btn btn-secondary">Share</button>
                            </div>
                        </form>
                    </div>
                </div>
                
                {% if id %}
                <div class="card mb-4" id = "forum-page-card">
                    <div class="card-body">

                        <!-- Form for submitting edited content -->
                        <form method="POST" action="/process/register_comment?b_id={{question[0].b_id}}">
                                                    <!-- Title Section -->
                            <textarea id="edit-details" name="c_content" class="form-control" rows="3" placeholder="Enter the content of your post" required></textarea>
                            <div class="text-center mb-4 mt-4">
                                <!-- Edit Button -->
                                <button class="btn btn-success" id="edit-button">Edit</button>
                                <!-- Save Button (Initially hidden) -->
                                <button type="submit" class="btn btn-primary" id="save-button" style="display: none;">Save</button>
                                <button class="btn btn-primary">Reply</button>
                                <button class="btn btn-secondary">Share</button>
                            </div>
                        </form>
                    </div>
                </div>
                {% endif %}

                <div class="col-md-8">
                    {% for item in question %}
                    <!--<div class="question-card card" onclick="window.location.href='/forum?c_id={{item.c_id}}';" style = "cursor: pointer;">-->
                    <div class="card-body">
                    <h5>{{ item.c_content}}</h5>
                    </div>
                      <div class="text-center mb-4 mt-4">
                        <!-- Edit Button -->
                        {% if id %}
                        <button type="button" class="btn btn-success" id="edit-button">Edit</button>
                        {% else %}
                        <button type="button" class="btn btn-success">Edit</button>
                        {% endif %}
                        <!-- Save Button (Initially hidden) -->
                        <button type="submit" class="btn btn-primary" id="save-button" style="display: none;">Save</button>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- Bootstrap JavaScript Libraries -->
        <script
            src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"
        ></script>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
            integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
            crossorigin="anonymous"
        ></script>

        <script src="/js/edit_page.js"></script>
    </body>
</html>
